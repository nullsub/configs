\chapter{Aufgabe 3 - DHCP \& DNS}
\section{DHCP}
Config ist in /etc/dhcp/dhcp.conf:
\begin{lstlisting}[style=Bash]
subnet 192.168.2.0 netmask 255.255.255.0 {
	range 192.168.2.240 192.168.2.250;
	option routers 192.168.2.1;
	option domain-name-servers 192.168.2.1;
}

host node0 {
	hardware ethernet 74:d4:35:84:06:f1;
	fixed-address 192.168.2.10;
	option host-name "node0";
}

host node1 {
	hardware ethernet 74:d4:35:1d:f2:91;
	fixed-address 192.168.2.11;
	option host-name "node1";
}
\end{lstlisting}
In /etc/default/isc-dhcp-server muss eth1 eingetragen werden damit der DHCP Server nur auf eth1 läuft.\\
DHCP Server neu starten:
\begin{lstlisting}[style=Bash]
# /etc/init.d/isc-dhcp-server restart
\end{lstlisting}
In den Nodes wird /etc/network/interfaces angepasst:
\begin{lstlisting}[style=Bash]
auto eth0
iface eth0 inet dhcp
\end{lstlisting}
Damit der Headnode den lokalen DNS Server nutzt muss /etc/dhclient.conf angepasst werden:
\begin{lstlisting}[style=Bash]
prepend domain-name-servers 127.0.0.1;
request subnet-mask, broadcast-address, time-offset, routers,
	domain-name, domain-search, host-name,
	dhcp6.domain-search,
	netbios-scope, interface-mtu,
	rfc3442-classless-static-routes, ntp-servers;
\end{lstlisting}
Der Hostname der Nodes wird noch nicht automatisch gesetzt. Dies wird mit einem Script in /etc/dhcp/dhclient-exit-hooks.d/ gemacht.
\section{DNS}
Domans: cluster.local. headnode.cluster.local, nodeN.cluster.local\\
bind9 wird genutzt:
\begin{lstlisting}[style=Bash]
# apt-get install bind9
\end{lstlisting}
Folgende Dateien müssen angepasst werden:
\begin {itemize}
\item /etc/bind/db.cluster.local
\item /etc/bind/db.192
\item /etc/bind/named.conf.local
\item /etc/bind/named.conf.options
\end{itemize}
